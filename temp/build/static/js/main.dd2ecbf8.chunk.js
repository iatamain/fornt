(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){e.exports=a(203)},203:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(63),c=a.n(o),l=a(40),s=a(19),u=a(7),i=a.n(u),m=a(14),d=(a(41),a(33),a(18));a(43);function p(){}var v=Object(n.createContext)({token:null,userId:null,login:p,logout:p,isAuthenticated:!1}),h=function(){Object(n.useContext)(v);var e=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),c=Object(d.a)(o,2),l=c[0],s=c[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,o,c,l,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"GET",n=u.length>2&&void 0!==u[2]?u[2]:null,o=u.length>3&&void 0!==u[3]?u[3]:{},r(!0),e.prev=4,n&&(n=JSON.stringify(n),o["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:o});case 8:return c=e.sent,e.next=11,c.json();case 11:if(l=e.sent,c.ok){e.next=14;break}throw new Error(l.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return r(!1),e.abrupt("return",l);case 18:throw e.prev=18,e.t0=e.catch(4),console.log("catch e ",e.t0.message),r(!1),s(e.t0.message),e.t0;case 24:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:l,clearError:function(){s(null)}}}(),t=(e.loading,e.error,e.request,Object(n.useState)({username:"",password:""})),a=Object(d.a)(t,2);a[0],a[1];return r.a.createElement("div",{className:"parrent"},r.a.createElement("div",{className:"box"},r.a.createElement("h1",null," Login "),r.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"Username"}),r.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"Password"}),r.a.createElement("input",{type:"submit",name:"",value:"\u0412\u043e\u0439\u0442\u0438"}),r.a.createElement("input",{type:"submit",name:"",value:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})),r.a.createElement("footer",null,"By Vilatiy Volkov By Alexandra Paxolkina By Ekaterina Trochenko"))},f=(a(44),function(){var e=Object(s.g)(),t=Object(n.useContext)(v);return r.a.createElement("div",{className:"headerMain"},r.a.createElement("header",{className:"headerNav"},r.a.createElement("h1",null," ITracers task-manager"),r.a.createElement("input",{className:"returnButton",type:"button",value:"Create List"}),r.a.createElement("input",{className:"returnButton",type:"button",value:"Exit",onClick:function(a){a.preventDefault(),t.logout(),e.push("/")}})))}),E=function(e){for(var t=0;t<e.length;t++){var a=document.createElement("div");a.className="todoList";var n=document.createElement("header");n.className="todoListHeader",n.innerText=e[t].nametask;var r=document.createElement("main");r.className="todoListMain";var o=document.createElement("span");o.innerText=e[t].descriptiontask,r.appendChild(o),a.appendChild(n),a.appendChild(r),console.log(a),document.querySelector(".todoContainer").appendChild(a)}},g=(a(110),function(){var e={request:Object(n.useCallback)(function(){var e=Object(m.a)(i.a.mark((function e(t){var a,n,r,o,c,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:null,r=l.length>3&&void 0!==l[3]?l[3]:{},e.prev=3,n&&(n=JSON.stringify(n),r["Content-Type"]="application/json"),e.next=7,fetch(t,{method:a,body:n,headers:r});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,o.ok){e.next=13;break}throw new Error(c.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 13:return e.abrupt("return",c);case 16:throw e.prev=16,e.t0=e.catch(3),console.log("catch e ",e.t0.message),e.t0;case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),[])}.request;function t(){return(t=Object(m.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=document.querySelector("#nametask").value,n=document.querySelector("#descriptiontask").value,r={nameTask:a,descriptiontask:n,userId:JSON.parse(localStorage.getItem("userData")).userId},console.log(r),t.next=6,e("/api/list/push","POST",r);case 6:t.sent,window.location.reload();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return window.onload=Object(m.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.parse(localStorage.getItem("userData")).userId,t.next=4,e("/api/list/required","POST",{userId:a});case 4:n=t.sent,console.log(n.message),document.querySelector(".todoContainer"),E(n.message),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])}))),r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"todoContainer"}),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"box"},r.a.createElement("h1",null," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438 "),r.a.createElement("h2",null," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),r.a.createElement("input",{type:"text",id:"nametask",name:"nametask"}),r.a.createElement("h2",null," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 "),r.a.createElement("input",{type:"text",id:"descriptiontask",name:"descriptiontask"}),r.a.createElement("input",{type:"submit",name:"",onClick:function(){return t.apply(this,arguments)}}))),")")});var b=function(){var e=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),c=Object(d.a)(o,2),l=c[0],s=c[1],u=Object(n.useCallback)((function(e,t){r(e),s(t),localStorage.setItem("userData",JSON.stringify({userId:t,token:e}))}),[]),i=Object(n.useCallback)((function(){r(null),s(null),localStorage.removeItem("userData")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&u(e.token,e.userId)}),[u]),{login:u,logout:i,token:a,userId:l}}(),t=e.token,a=e.login,o=e.logout,c=e.userId,u=function(e){return e?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/todo"},r.a.createElement(g,null)),r.a.createElement(s.a,{to:"/todo"})):r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(h,null)),r.a.createElement(s.a,{to:"/"}))}(!!t);return r.a.createElement(v.Provider,{value:{token:t,login:a,logout:o,userId:c}},r.a.createElement("div",null,r.a.createElement(l.a,null,u)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,t,a){},44:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.dd2ecbf8.chunk.js.map